// Generated by //build/android/generate_gradle.py

apply plugin: "com.android.library"

android {
    compileSdkVersion 23
    buildToolsVersion "23.0.1"
    publishNonDefault true

    compileOptions {
        sourceCompatibility JavaVersion.VERSION_1_7
        targetCompatibility JavaVersion.VERSION_1_7
    }

    sourceSets {
        main {
            manifest.srcFile "../../../../../build/android/AndroidManifest.xml"
            java.srcDirs = [
                "../../../../../components/invalidation/impl/android/java/src",
                "extracted-srcjars",
            ]
            resources.srcDirs = []
            aidl.srcDirs = []
            renderscript.srcDirs = []
            res.srcDirs = []
            assets.srcDirs = []
        }
    }
}

dependencies {
    compile project(":third_party\$jsr-305\$jsr_305_javalib")
    debugCompile project(path: ":components\$invalidation\$impl\$proto_java", configuration: "debug")
    releaseCompile project(path: ":components\$invalidation\$impl\$proto_java", configuration: "release")
    debugCompile project(path: ":base\$base_java", configuration: "debug")
    releaseCompile project(path: ":base\$base_java", configuration: "release")
    debugCompile project(path: ":components\$sync\$android\$sync_java", configuration: "debug")
    releaseCompile project(path: ":components\$sync\$android\$sync_java", configuration: "release")
    debugCompile project(path: ":third_party\$android_protobuf\$protobuf_nano_javalib", configuration: "debug")
    releaseCompile project(path: ":third_party\$android_protobuf\$protobuf_nano_javalib", configuration: "release")
    debugCompile project(path: ":third_party\$cacheinvalidation\$cacheinvalidation_javalib", configuration: "debug")
    releaseCompile project(path: ":third_party\$cacheinvalidation\$cacheinvalidation_javalib", configuration: "release")
    debugCompile project(path: ":third_party\$cacheinvalidation\$cacheinvalidation_proto_java", configuration: "debug")
    releaseCompile project(path: ":third_party\$cacheinvalidation\$cacheinvalidation_proto_java", configuration: "release")
}

afterEvaluate {
    def tasksToDisable = tasks.findAll {
        return (it.name.equals('generateDebugSources')  // causes unwanted AndroidManifest.java
                || it.name.equals('generateReleaseSources')
                || it.name.endsWith('Assets')
                || it.name.endsWith('BuildConfig')  // causes unwanted BuildConfig.java
                || it.name.endsWith('Resources')
                || it.name.endsWith('ResValues')
                || it.name.endsWith('Aidl')
                || it.name.endsWith('Renderscript')
                || it.name.endsWith('Shaders'))
    }
    tasksToDisable.each { Task task ->
      task.enabled = false
    }
}

